import json

def extract_idx_and_write_to_txt(input_file, output_file):
    # Load JSON lines from the input file into a list
    js_all = [json.loads(line) for line in open(input_file)]

    # Open the output file for writing
    with open(output_file, 'w') as out_file:
        for entry in js_all:
            if 'idx' in entry:
                idx_value = entry['idx']
                # Write the 'idx' value to the output file
                out_file.write(str(idx_value) + '\n')

if __name__ == "__main__":
    extract_idx_and_write_to_txt('./valid.jsonl', 'valid.txt')
