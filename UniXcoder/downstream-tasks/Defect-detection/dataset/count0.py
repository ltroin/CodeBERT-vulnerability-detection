# This code extracts the number of idxs which are equal to 0 from the train.jsonl file.
#There fore we manually check the imbalance of the dataset.

import json


def count_zero(input_file, output_file):
    """
    Reads a JSON lines file and counts the number of occurrences where 'target' is 0.

    Args:
        input_file (str): The path to the JSON lines input file.
        output_file (str): The path to the output text file.
    """
    # Load JSON lines from the input file into a list
    js_all = [json.loads(line) for line in open(input_file)]
    num = 0
    with open(output_file, 'w') as out_file:
        for entry in js_all:
            if 'idx' in entry:
                idx_value = entry['target']
                # if lable is 0
                if idx_value == 0:
                    num += 1
    return num
if __name__ == "__main__":
    print(count_zero('train.jsonl', 'train.txt'))
